
<!-- saved from url=(0045)https://news.ycombinator.com/item?id=15203386 -->
<html op="item"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="./Scrollbar test on hn _ Hacker News_files/news.css">
        <link rel="shortcut icon" href="https://news.ycombinator.com/favicon.ico">
        <title>Scrollbar test on hn | Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tbody><tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tbody><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com/"><img src="./Scrollbar test on hn _ Hacker News_files/y18.gif" width="18" height="18" style="border:1px white solid;"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="https://news.ycombinator.com/news">Hacker News</a></b>
              <a href="https://news.ycombinator.com/newswelcome.html">welcome</a> | <a href="https://news.ycombinator.com/newest">new</a> | <a href="https://news.ycombinator.com/threads?id=chaopeng">threads</a> | <a href="https://news.ycombinator.com/newcomments">comments</a> | <a href="https://news.ycombinator.com/show">show</a> | <a href="https://news.ycombinator.com/ask">ask</a> | <a href="https://news.ycombinator.com/jobs">jobs</a> | <a href="https://news.ycombinator.com/submit">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a href="https://news.ycombinator.com/user?id=chaopeng">chaopeng</a>
                (1) |
                <a id="logout" href="https://news.ycombinator.com/logout?auth=15e8ea491aa4713faf9b13b7d597ed8bc21073f9&amp;goto=item%3Fid%3D15203386">logout</a>                          </span></td>
              </tr></tbody></table></td></tr>
<tr style="height:10px"></tr><tr><td><table class="fatitem" border="0">
        <tbody><tr class="athing" id="15203386">
      <td align="right" valign="top" class="title"><span class="rank"></span></td>      <td valign="top" class="votelinks"><center><font color="#ff6600">*</font><br>
<img src="./Scrollbar test on hn _ Hacker News_files/s.gif" height="1" width="14"></center></td><td class="title"><a href="https://news.ycombinator.com/item?id=15203386" class="storylink">Scrollbar test on hn</a></td></tr><tr><td colspan="2"></td><td class="subtext">
        <span class="score" id="score_15203386">1 point</span> by <a href="https://news.ycombinator.com/user?id=chaopeng" class="hnuser"><font color="#3c963c">chaopeng</font></a> <span class="age"><a href="https://news.ycombinator.com/item?id=15203386">2 minutes ago</a></span> <span id="unv_15203386"></span> | <a href="https://news.ycombinator.com/hide?id=15203386&amp;goto=item%3Fid%3D15203386&amp;auth=b86a32bf36feac5b16cda2662946fff503d2075f">hide</a> | <a href="https://hn.algolia.com/?query=Scrollbar%20test%20on%20hn&amp;sort=byDate&amp;dateRange=all&amp;type=story&amp;storyText=false&amp;prefix&amp;page=0" class="hnpast">past</a> | <a href="https://www.google.com/search?q=Scrollbar%20test%20on%20hn">web</a> | <a href="https://news.ycombinator.com/item?id=15203386">1&nbsp;comment</a> | <a href="https://news.ycombinator.com/edit?id=15203386">edit</a> | <a href="https://news.ycombinator.com/fave?id=15203386&amp;auth=b86a32bf36feac5b16cda2662946fff503d2075f">favorite</a>              </td></tr>
      <tr style="height:2px"></tr><tr><td colspan="2"></td><td>I need a pre and scrollable</td></tr>
        <tr style="height:10px"></tr><tr><td colspan="2"></td><td>
          <form method="post" action="https://news.ycombinator.com/comment"><input type="hidden" name="parent" value="15203386"><input type="hidden" name="goto" value="item?id=15203386"><input type="hidden" name="hmac" value="c5ea1a27c302f0d716443c0b30d96d210071ee26"><textarea name="text" rows="6" cols="60"></textarea>
                  <br><br><span class="subtext">If you haven't already, would you mind reading
            about HN's <a href="https://news.ycombinator.com/newswelcome.html"><u>approach to comments</u></a>
            and <a href="https://news.ycombinator.com/newsguidelines.html"><u>site guidelines</u></a>?
          </span>
                <br><br><input type="submit" value="add comment"></form>
      </td></tr>
  </tbody></table><br><br>
  <table border="0" class="comment-tree">
            <tbody><tr class="athing comtr " id="15203401"><td>
            <table border="0">  <tbody><tr>    <td class="ind"><img src="./Scrollbar test on hn _ Hacker News_files/s.gif" height="1" width="0"></td><td valign="top" class="votelinks"><center><font color="#ff6600">*</font><br>
<img src="./Scrollbar test on hn _ Hacker News_files/s.gif" height="1" width="14"></center></td><td class="default"><div style="margin-top:2px; margin-bottom:-10px;"><span class="comhead">
          <span class="score" id="score_15203401">1 point</span> by <a href="https://news.ycombinator.com/user?id=chaopeng" class="hnuser"><font color="#3c963c">chaopeng</font></a> <span class="age"><a href="https://news.ycombinator.com/item?id=15203401">0 minutes ago</a></span> <span id="unv_15203401"></span><span class="par"></span> | <a href="https://news.ycombinator.com/edit?id=15203401">edit</a> | <a href="https://news.ycombinator.com/delete-confirm?id=15203401&amp;goto=item%3Fid%3D15203386">delete</a> <a class="togg" n="1" href="javascript:void(0)" onclick="return toggle(event, 15203401)">[-]</a>          <span class="storyon"></span>
                  </span></div><br><div class="comment">
                  <span class="c00">avaer 18 days ago [-]<p>I have some experience with this stuff, and my go-to advice is:</p><p></p><pre><code>  - Never construct or mutate objects in a loop or recursive call.
  - Preallocate the max of what you'll need at load time, then index into it.
  - Prefer typed arrays over objects.
  - Don't use strings. Work with numbers.
  - Remove function calls.
  - Do not call a function with differently shaped arguments.
  - If the JS engine can't prove a number is a 32 bit int, you'll take a large perf hit.
  - Break out your algo into a worker. Not only does it keep things responsive, but it might actually be faster due to less GC pressure.
  - The web stack is full of frightening gotchas that you'll discover. Recieving large data on a WebSocket can halt your DOM rendering. Leaking a Promise callback can completely blow a function into interpreter mode. And other fun times.
</code></pre>
Finally: If you're hand optimizing and not getting sufficient results on your preferred browser, accept that you're screwed. The next browser will break your assumptions. Rethink your algorithm and data flow, or move it elsewhere, like a worker or server.
I do agree the tooling for this stuff isn't great, but I found Chrome's line-by-line perf counts to be excellent hints about where you could do better. It's often surprising but obvious in retrospect.<span>
              </span><div class="reply">        <p><font size="1">
                      <u><a href="https://news.ycombinator.com/reply?id=15203401&amp;goto=item%3Fid%3D15203386%2315203401">reply</a></u>
                  </font>
      </p></div></span></div></td></tr>
      </tbody></table></td></tr>
                                </tbody></table>
      <br><br>
  </td></tr>
<tr><td><img src="./Scrollbar test on hn _ Hacker News_files/s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tbody><tr><td bgcolor="#ff6600"></td></tr></tbody></table><br><center><span class="yclinks"><a href="https://news.ycombinator.com/newsguidelines.html">Guidelines</a>
        | <a href="https://news.ycombinator.com/newsfaq.html">FAQ</a>
        | <a href="mailto:hn@ycombinator.com">Support</a>
        | <a href="https://github.com/HackerNews/API">API</a>
        | <a href="https://news.ycombinator.com/security.html">Security</a>
        | <a href="https://news.ycombinator.com/lists">Lists</a>
        | <a href="https://news.ycombinator.com/bookmarklet.html" rel="nofollow">Bookmarklet</a>
        | <a href="https://news.ycombinator.com/dmca.html">DMCA</a>
        | <a href="http://www.ycombinator.com/apply/">Apply to YC</a>
        | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br><form method="get" action="https://hn.algolia.com/">Search:
          <input type="text" name="q" value="" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false"></form>
            </center></td></tr>      </tbody></table></center><script type="text/javascript" src="./Scrollbar test on hn _ Hacker News_files/hn.js"></script>
  
</body></html>